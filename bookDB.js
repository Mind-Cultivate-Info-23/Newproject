const Books = [
    {
        title: "13 Things Mentally Strong People Don't Do",
        author: "Amy Morin",
        published_year: "2014",
        rating: "4/5",
        book_URL: "books/business/13 things.pdf",
        pic_URL: "images/laziness.png",
        category: "Business",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
    },
    {
        title: "The Adweek Copywriting Handbook",
        author: "Joseph Sugarman",
        published_year: "2007",
        rating: "4/5",
        book_URL: "books/business/copywriter.pdf",
        pic_URL: "images/laziness.png",
        category: "Business",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
    },
    {
        title: "The Basics of Business Management",
        author: "Elly R. Twineyo Kamugisha",
        published_year: "2017",
        rating: "4/5",
        book_URL: "books/business/The Basics of Business Management.pdf",
        pic_URL: "images/laziness.png",
        category: "Business",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
    },
    {
        title: "This Is Marketing",
        author: "Seth Godin",
        published_year: "2018",
        rating: "4/5",
        book_URL: "books/business/This is Marketing.pdf",
        pic_URL: "images/laziness.png",
        category: "Business",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
    },
    {
        title: "Your Next Five Moves",
        author: "Patrick Bet-David",
        published_year: "2020",
        rating: "4/5",
        book_URL: "books/business/Your Next Five Moves.pdf",
        pic_URL: "images/laziness.png",
        category: "Business",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
    },
    {
        title: "A Pocket Guide To Public Speaking",
        author: "Rob Stewart",
        published_year: "2006",
        rating: "4/5",
        book_URL: "books/communication/A Pocket Guide to Public Speaking.pdf",
        pic_URL: "images/laziness.png",
        category: "Communication",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
    },
    {
        title: "Dealing With Difficult People",
        author: "Ken Pierce",
        published_year: "2013",
        rating: "4/5",
        book_URL: "books/communication/dealing-with-difficult-people.pdf",
        pic_URL: "images/laziness.png",
        category: "Communication",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
    },
    {
        title: "Effective Communication Skills",
        author: "Dalton Kehoe",
        published_year: "2014",
        rating: "4/5",
        book_URL: "books/communication/effective-communication-skills.pdf",
        pic_URL: "images/laziness.png",
        category: "Communication",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
   },
    {
        title: "Never Split The Difference",
        author: "Chris Voss",
        published_year: "2016",
        rating: "4/5",
        book_URL: "books/communication/Never Split the Difference.pdf",
        pic_URL: "images/laziness.png",
        category: "Communication",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
    },
    {
        title: "Perfect Presentations",
        author: "Andrew Ivey",
        published_year: "2010",
        rating: "4/5",
        book_URL: "books/communication/perfect-presentations.pdf",
        pic_URL: "images/laziness.png",
        category: "Communication",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`    
    },
    {
        title: "Stand Up, Speak_The Practice And Ethics Of Public Speaking",
        author: "Josh Miller",
        published_year: "2016",
        rating: "4/5",
        book_URL: "books/communication/Stand Up, Speak Out.pdf",
        pic_URL: "images/laziness.png",
        category: "Communication",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                    lingered like a memory that refused to dry. She sat by the window,
                    tracing the outline of a raindrop that hadn’t quite made it down 
                    the glass, watching the sky turn from silver to ash. Somewhere 
                    between the hush of the wind and the hum of the streetlights, 
                    she remembered the way he used to laugh — not loudly, but like 
                    a secret shared only with her. And though the world kept moving, 
                    her heart stayed curled around that sound, soft and aching, like 
                    a song that never quite finishes.`
    },
    {
        title: "The Art Of Public Speaking",
        author: "Dale Carnagay",
        published_year: "2005",
        rating: "4/5",
        book_URL: "books/communication/The Art of Public Speaking.pdf",
        pic_URL: "images/laziness.png",
        category: "Communication",
        description: `The rain had stopped hours ago, but the scent of wet earth 
                            lingered like a memory that refused to dry. She sat by the window,
                            tracing the outline of a raindrop that hadn’t quite made it down 
                            the glass, watching the sky turn from silver to ash. Somewhere 
                            between the hush of the wind and the hum of the streetlights, 
                            she remembered the way he used to laugh — not loudly, but like 
                            a secret shared only with her. And though the world kept moving, 
                            her heart stayed curled around that sound, soft and aching, like 
                            a song that never quite finishes.`
    },
    {
        title: "Getting Things Done_ The Art of Stress-Free Productivity",
        author: "David Allen",
        published_year: "2001",
        rating: "4/5",
        book_URL: "books/personal_development/Getting Things Done_ The Art of Stress-Free Productivity.pdf",
        pic_URL: "images/laziness.png",
        category: "Personal-Development"
    },
    {
        title: "Getting_Things_Done_Fast",
        author: "David Allen",
        published_year: "2001",
        rating: "4/5",
        book_URL: "books/personal_development/Getting_Things_Done_Fast.pdf",
        pic_URL: "images/laziness.png",
        category: "Personal-Development"
    },
    {
        title: "Interpersonal Skills_ A Key to Effective Leadership",
        author: "Army Management Staff College",
        published_year: "2008",
        rating: "4/5",
        book_URL: "books/personal_development/Interpersonal Skills_ A Key to Effective Leadership.pdf",
        pic_URL: "images/laziness.png",
        category: "Personal-Development"
    }
    
]

console.log(Books)




const indexedDB = 
window.indexedDB ||
window.msindexedDB ||
window.mozindexedDB ||
window.shimindexedDB ||
window.webkitindexedDB;

let db

function createDB() {
    const request = indexedDB.open("book_DataB", 1)

    request.onerror = function() {
        console.log("Error on opening DB")
    }

    request.onupgradeneeded = function() {
        db = request.result
        const store = db.createObjectStore("books", {keyPath: "title"})
        store.createIndex("book_category", ["category"], {unique: false})
    }

    request.onsuccess = function() {
        db = request.result
        console.log("Successfully opened DB")
        insert_Book_Details(Books)
    }
}

createDB()


function insert_Book_Details(inputs) {
    if(db) {
        const insertTX = db.transaction("books", "readwrite")
        const store = insertTX.objectStore("books")

        insertTX.onerror = function() {
            console.log("Error running insertTX")
        }

        insertTX.onsuccess = function() {
            console.log("Successfully run insertTX")
        }

        inputs.forEach(input => {
            const request = store.add(input)

                request.onerror = function(user_Email) {
                    console.log(`Error inserting ${input} into DB`)
                }

                request.onsuccess = function(user_Email) {
                    console.log(`Successfully added ${input} into DB`)
                }
        });
    }
}